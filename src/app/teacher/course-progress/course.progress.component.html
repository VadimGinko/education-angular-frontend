<div class="container" style="margin-top: 20px">
  <h1 class="ml-3" style="margin-top: 10px;">Проверка заданий</h1>
  <form [formGroup]="coursesForm">
    <div class="form-group" style="display: flex">
      <mat-form-field appearance="fill">
        <mat-label>Название курса</mat-label>
        <mat-select formControlName="courses">
          <mat-option *ngFor="let course of courses" [value]="course">
            {{ course.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <button
        type="submit"
        mat-stroked-button
        color="primary"
        style="opacity: 0.8; height: 40px; margin-top: 10px; margin-left: 10px"
        (click)="showTasks()"
      >
        Показать пользователей, у которых есть ответы на задания
      </button>
    </div>
  </form>

  <form [formGroup]="userForm" *ngIf="isMails">
    <div class="form-group" style="display: flex">
      <mat-form-field appearance="fill">
        <mat-label>Пользователь</mat-label>
        <mat-select formControlName="mails">
          <mat-option *ngFor="let mail of mails" [value]="mail">
            {{ mail }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <button
        type="submit"
        mat-stroked-button
        color="primary"
        style="opacity: 0.8; height: 40px; margin-top: 10px; margin-left: 10px"
        (click)="showReview()"
      >
        Показать задания пользователя 
      </button>
    </div>
  </form>

  <form [formGroup]="currentTasksForm" *ngIf="isTs">
    <div class="form-group" style="display: flex">
      <mat-form-field appearance="fill">
        <mat-label>Задание</mat-label>
        <mat-select formControlName="currentTasks">
          <mat-option *ngFor="let review of reviews2222" [value]="review">
            {{ review.task.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <button
        type="submit"
        mat-stroked-button
        color="primary"
        style="opacity: 0.8; height: 40px; margin-top: 10px; margin-left: 10px"
        (click)="showAnswer()"
      >
        Показать ответ 
      </button>
    </div>
  </form>

  <div *ngIf="noTasks">
    <h3>Дня этого курса нет ответов на задания</h3>
  </div>
  <div *ngIf="isProgressPresented">
    <h1 align="center">{{ task.name }}</h1>
    <div [innerHtml]="task.content"></div>
    <h3>
      Cсылка на репозиторий с ответом:
      <a target="_blank" href="{{codeAnswer.repositoryLink}}">{{
        codeAnswer.repositoryLink
      }}</a>
    </h3>
    <h3 *ngIf="isTeacherCommentPresented">
      Ваш предыдущий комментарий:{{ codeAnswer.teacherComment }}
    </h3>

    <div>
      <form [formGroup]="checkTaskForm">
        <div class="form-group">
          <mat-form-field class="example-full-width" appearance="fill">
            <mat-label>комментарий</mat-label>
            <input type="text" matInput formControlName="comment" />
          </mat-form-field>
          <button
            type="submit"
            color="warn"
            mat-stroked-button
            style="opacity: 0.8"
            class="ml-3"
            (click)="onReject()"
          >
            Нужно доделать
          </button>
          <button
            mat-stroked-button
            color="primary"
            style="opacity: 0.8"
            class="ml-3"
            (click)="onComplete()"
          >
            Выполнено
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
